@startuml ConsoleApplication.StartProgressBar
title ConsoleApplication.StartProgressBar
start
if (RunProgressBar == false) then (<color:green>yes)
    #LightBlue:var head = '>';
    #LightBlue:var runSign = '=';
    #LightBlue:var counter = 0;
    :RunProgressBar = true;
    :PrintLine();
    :var (Left, Top) = GetCursorPosition();
    :PrintLine();
    :PrintLine();
    :Task.Factory.StartNew(async () =>
                {
                    while (RunProgressBar)
                    {
                        if (CanProgressBarPrint)
                        {
                            if (Left > 65)
                            {
                                var timeInSec = counter / 5;

                                for (int i = 0; i <= Left; i++)
                                {
                                    Write(i, Top, " ");
                                }
                                Left = 0;
                            }
                            else
                            {
                                Write(Left++, Top, $"{runSign}{head}");
                            }

                            if (counter % 5 == 0)
                            {
                                Write(65, Top, $"{counter / 5,5} [sec]");
                            }
                        }
                        counter++;
                        await Task.Delay(200);
                    }
                });
endif
stop
@enduml
